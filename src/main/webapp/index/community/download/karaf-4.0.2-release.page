---
title: Karaf 4.0.2 Release
page_version: 1
page_creator: jbonofre
page_modifier: jbonofre
--- pipeline:conf
h2. Download

Download links can be found in the [Download|/index/community/download.html] page.

h2. Documentation

- [Manual|http://karaf.apache.org/manual/latest/index.html]
-- [User Guide|http://karaf.apache.org/manual/latest/users-guide/index.html]
-- [Developer Guide|http://karaf.apache.org/manual/latest/developers-guide/index.html]
-- [Commands reference|http://karaf.apache.org/manual/latest/commands/commands.html]

h2. Release Notes - Karaf - Version 4.0.2

 This is an update patch for Apache Karaf 4.0.x, containing many bug fixes, dependency updates, and improvements.

 For more information, please see the below changelog:

h3. Bug
 * [KARAF-1159] - Region support should be part of karaf-features-1.1.0.xsd
 * [KARAF-3638] - karaf-maven-plugin:features-add-to-repository fails with NPE
 * [KARAF-3885] - Memory leak when use interactive client shell
 * [KARAF-3893] - Unable to start offline container
 * [KARAF-3945] - Don't try and set permgen settings in Java 8
 * [KARAF-3946] - LDAP role mapping too sensitive to extra whitespace
 * [KARAF-3956] - should also add xalan into the endorse folder of distributions
 * [KARAF-3964] - cygpath call in "start" to convert CLASSPATH should first verify it's set
 * [KARAF-3965] - Calling Ctrl+D in Karaf console, when karaf asks if it is necessary to dispay all console commands, causes console not responding forever
 * [KARAF-3968] - The assembly mojo does not respect --offline
 * [KARAF-3969] - assembly goal has no way to set javase version
 * [KARAF-3971] - log:tail and pressing Ctrl-D freezes karaf shell console
 * [KARAF-3975] - Wrong start-level for eclipselink adapter in eclipselink feature
 * [KARAF-3996] - bin/karaf does not set ulimit if MAX_FD_LIMIT="unlimited"
 * [KARAF-3998] - org.apache.felix.coordinator missing in transaction 1.3.0 feature
 * [KARAF-3999] - transaction feature is missing coordinator bundle
 * [KARAF-4002] - Karaf build on jenkins always fail at karaf-maven-plugin
 * [KARAF-4005] - Different locations for KARAF_HOME and KARAF_BASE
 * [KARAF-4006] - karaf-maven-plugin does not seem to use the local repository
 * [KARAF-4012] - On MacOSX, java_home check should be on 1.8
 * [KARAF-4015] - Verification of the deployer feature fails
 * [KARAF-4020] - karaf-maven-plugin:archive doesn't respect an empty prefixPath
 * [KARAF-4022] - avoid the generated bundle file name too long in startup.properties
 * [KARAF-4028] - karaf-wrapper-main.jar generated by wrapper is corrupted
 * [KARAF-4030] - Doclint for Javadoc fails on JDK 8
 * [KARAF-4032] - Karaf maven plugin assembly goal does not use repositories declared in pom.xml
 * [KARAF-4055] - karaf-maven-plugin: feature XML with a @ character

h3. Dependency upgrade
 * [KARAF-3943] - Upgrade to Aries Util 1.1.1
 * [KARAF-3947] - Upgrade to Aries Blueprint Core 1.4.4 & Aries Blueprint CM 1.0.7
 * [KARAF-3948] - Upgrade to commons-compress 1.10
 * [KARAF-4009] - Upgrade to Pax URL 2.4.3
 * [KARAF-4019] - Upgrade jpa feature to 2.2.0
 * [KARAF-4023] - Upgrade to Pax Logging 1.8.4
 * [KARAF-4025] - Update scr to 2.0.0
 * [KARAF-4033] - Upgrade to Aries JMX 1.1.5
 * [KARAF-4034] - Upgrade to Aries JPA 2.2.0
 * [KARAF-4035] - Upgrade to Aries Subsystem 2.0.2
 * [KARAF-4036] - Upgrade to Aries Transaction Blueprint 2.0.0
 * [KARAF-4037] - Upgrade to maven-bundle-plugin 3.0.0
 * [KARAF-4038] - Upgrade to Felix BundleRepository 2.0.6
 * [KARAF-4039] - Upgrade to Felix ConfigAdmin 1.8.8
 * [KARAF-4040] - Upgrade to Felix EventAdmin 1.4.4
 * [KARAF-4041] - Upgrade to Felix Framework/Main 5.2.0
 * [KARAF-4042] - Upgrade to Felix Metatype 1.1.2
 * [KARAF-4043] - Upgrade to Felix Resolver 1.6.0
 * [KARAF-4044] - Upgrade to Felix SCR 2.0.2
 * [KARAF-4045] - Upgrade to Felix WebConsole 4.2.12
 * [KARAF-4046] - Upgrade to Felix WebConsole Plugins DS 2.0.2
 * [KARAF-4047] - Upgrade to Felix WebConsole Plugins Event 1.1.4
 * [KARAF-4049] - Upgrade to Easymock 3.4
 * [KARAF-4050] - Upgrade to Pax Exam 4.6.0
 * [KARAF-4051] - Upgrade to Pax Web 4.2.2
 * [KARAF-4052] - Upgrade to Pax Tinybundles 2.1.1
 * [KARAF-4053] - Upgrade to ASM 5.0.4

h3. Documentation
 * [KARAF-3936] - Stray TODO in production docs
 * [KARAF-3990] - Missing documentation for debugging environment variables

h3. Improvement
 * [KARAF-3262] - Being able to use ${karaf.etc} in feature <configfile/> element
 * [KARAF-3858] - Add systemd support in the wrapper
 * [KARAF-3882] - karaf should permit alternative host key formats
 * [KARAF-3954] - Convey terminal size changes through SSH
 * [KARAF-3962] - Client can't use properties defined in custom.properties
 * [KARAF-3963] - Some slight improvements to the doc for the feature generation mojo.
 * [KARAF-3978] - enable specify different shell.init.script env for remote shell in "exec" and "shell" mode
 * [KARAF-4007] - Use official spec bundle for jdbc
 * [KARAF-4010] - Add feature repo for eclipsesource jaxrs
 * [KARAF-4018] - Add transaction.blueprint 2.0.0 to transaction feature

h3. New Feature
 * [KARAF-3950] - Add feature:export-bundles command
