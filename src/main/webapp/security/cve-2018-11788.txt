-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

CVS-2018-11788: XXE vulnerability found on Apache Karaf

Severity: Moderate

Vendor: The Apache Software Foundation

Versions Affected: all versions of Apache Karaf prior to 4.1.7, 4.2.2.

Description:

Apache Karaf provides a features deployer, which allows users to "hot deploy"
a features XML by dropping the file directly in the deploy folder.

The features XML is parsed by XMLInputFactory class.

Apache Karaf XMLInputFactory class doesn't contain any mitigation codes
against XXE.
This is a potential security risk as an user can inject external XML entities.

The mitigation is to prevent XXE by disabling external entities loading feature
in XMLInputFactory and XmlUtils.

This has been fixed in revision:

https://gitbox.apache.org/repos/asf?p=karaf.git;h=cc3332e
https://gitbox.apache.org/repos/asf?p=karaf.git;h=1ffa6d1

Mitigation: Apache Karaf users should upgrade to 4.1.7, 4.2.2
or later as soon as possible.

JIRA Tickets: https://issues.apache.org/jira/browse/KARAF-5911

Credit: This issue was reported by Brian Wang.
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEGqjPktQJpzOT0Lc2v/LuQsgoLnYFAlwxnVEACgkQv/LuQsgo
Lnbxhw/9GzGIIS74jEj7xD5KpUDfvVHIJj0wP003Kvde7+LR2cfhUm1rsFgFoT3Z
8yUd0/1xOSrVTCiKtPE9VorNvB3MghZZSOKHMydHasrZ+go6qHRzZQ+dK2vT8+CE
EmfHkdn8Kec7v3bmJ6xXS/7rmvc4uRlWtWX6l6ZdYdBJHrPWdW0YGntHFVNQ4SRl
xbZU6NSZyo2XScKZM3K+2W56MLTl6ByXvTmixuFgfgZvl2L7naNfv+stoa/8LEr5
dfzFpf2DoLRVD3iw80q34pwwf5J0cdUBKtG5B2mYON7lD02uT+ELcTFkXI2CmKqn
tYWr3dvP87RJ7qRiBu2FjGJH7BFervzUHKs4sDpGe1KR7ZPlVZMwVR1xMKnLyi2R
hOosjAnIolFo0N0ZkSTDkk+3cj9a0syoSxe2RPFwe+nTU86G0VknsWv74rssQj2V
gOUDlq0ANQu1+SvcR3Hga9GS4jHwDXHdguEJUIiB4EevmNlzNmhzm2GUEolQmtyk
3jM6vtST2+yS196dEWDRRkgQpso1JB4mJGO2q3yqD/BwHAgAVUnS2Y9KAZvhPeQL
YATam4IX9iV9BwQ2GiULUyAwoZuizNKwH+Tth60JUCr7GQac4EgDTXlRVY7YJLLf
PE5zxfDF31greVo0deEf/plutXel237D+N7TPv7iC9s9cPBwy/8=
=98gh
-----END PGP SIGNATURE-----
